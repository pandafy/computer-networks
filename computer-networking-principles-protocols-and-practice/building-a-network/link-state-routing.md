# Link State Routing

- Allows routers to exchange message to learn about complete network topology
- A network is modeled as a *directed weighted graph*
- Different types of weights can be associated to each directed edge:
  - **unit weight:**
    - If all links has a unit weight, the shortest path routing prefers the path with fewer routers/hopes
  - **weight proportional to the propagation delay:**
    - shortest path routing uses the path with least propagation delay
  - **weight proportional to bandwidth**
    - ```math
        weight = C/bandwidth
        where C is a constant larger than the highest link bandwidth in the network
      ```
    - shortest path routing prefers paths with higher bandwidth over paths with lower bandwidth

**Note:** Usually the same weights is associated to the two directed edges to a physical link(e.g. R1 -> R2 and R2 -> R1). However, nothing in the link state protocols requires this. For example, if the weight is set in function of the link bandwidth, then an asymmetric ADSL link could have a different weight for the upstream and downstream directions.

## Booting a Link State Router

- When a link state router boots, it sends a `HELLO` message every **N** seconds to all its neighbors
- The `HELLO` message contains the router's address
- A `HELLO` message is never forwarded, therefore it is only received by the network nodes connected directly to the router
- The `HELLO` message is also used to detect link or router failures
- A link is consider to have failed if no `HELLO` message has been received from a neighboring router for more than **k * N** seconds

![https://beta.computer-networking.info/syllabus/default/_images/ls-hello.png](https://beta.computer-networking.info/syllabus/default/_images/ls-hello.png)

- Once a router has discovered its neighbors, it must reliably distribute all its outgoing edges to all routers in the network to allow them to compute their local view of the network topology
- Each router builds a [[link-state-packet]] (LSP)
- The LSPs must be reliably distributed inside the network without using the router's routing table.
- The Flooding algorithm is used to efficiently distribute LSPs of all routers.
- 

[//begin]: # "Autogenerated link references for markdown compatibility"
[link-state-packet]: ../glossary/link-state-packet "Link State Packet(LSP)"
[//end]: # "Autogenerated link references"
